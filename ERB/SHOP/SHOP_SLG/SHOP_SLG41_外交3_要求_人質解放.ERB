;-------------------------------------------------
;人質の解放を要求する
;-------------------------------------------------
@DIPLOMACY_REQUEST_RELEASE(ARG:0)
#DIM 人数
人数 = 0
LOCAL:4 = GET_COUNTRY_BOSS(CFLAG:MASTER:所属)
LOCAL:5 = GET_COUNTRY_BOSS(ARG:0)

PRINTFORMW %ANAME(MASTER)%要求%ANAME(LOCAL:5)%无条件释放人质

CALL DIPLOMACY_REQUEST_COMMON(ARG:0, 250)
LOCAL:2 = RESULT
SIF LOCAL:2 <= 0
	RETURN 0

PRINTFORML %ANAME(LOCAL:5)%把我国被囚禁的俘虏全部释放了…
SETCOLOR カラー_注意
FOR LOCAL:0, 0, CHARANUM
	IF CFLAG:(LOCAL:0):所属 == CFLAG:MASTER:所属 && CFLAG:(LOCAL:0):捕虜先 == ARG:0
		CALL CAPTURE(LOCAL:0, 0)
		PRINTFORML %ANAME(LOCAL:0)%被释放了
		人数 ++
	ENDIF
NEXT
RESETCOLOR
WAIT

;跳转信仰事件
TRYCALL SHOP_LIFE_USERSHOP68_REQUEST_RELEASE(ARG:0,人数)

;快楽で言うことを聞かせた場合、ご褒美の処理
SIF LOCAL:2 == 2
	CALL DIPLOMACY_REQUEST_PRIZE(ARG:0)
;薬物で言うことを聞かせた場合、ドラッグの処理
SIF LOCAL:2 == 3
	CALL DIPLOMACY_REQUEST_DRUG(ARG:0)
;催眠で言うことを聞かせた場合、催眠の処理
SIF LOCAL:2 == 4
	CALL DIPLOMACY_REQUEST_HYPNOSIS(ARG:0)

RETURN 1

