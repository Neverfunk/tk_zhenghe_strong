;ENG_NAME = ARTIFICIAL_PORTAL_VAGINA
;---------------------
;基本发生概率(1000分率100为10%)
;再加上configue项目的发生频率，所以概率还会有所变化
;---------------------
@EVENT_DAILY_ARTIFICIAL_PORTAL_VAGINA_RATE()
	CALL MRU_get_phase_rate("MRU_6",MRU_6_PHASE)
	IF RESULT != -1
		RETURN RESULT
	ELSE
		RETURN 200
	ENDIF


;---------------------
;发生判定
;1可以发生，0不能发生
;---------------------
@EVENT_DAILY_ARTIFICIAL_PORTAL_VAGINA_DECISION()
    SIF !IS_MALE(MASTER)
        RETURN 0
    SIF !IS_COUNTRY(CFLAG:MASTER:所属) || IS_SP_COUNTRY(CFLAG:MASTER:所属)
    RETURN 0
	CALL MRU_event_check("MRU_6",MRU_6_PHASE)
	SIF RESULT == -1
		RETURN 0
	RETURN 1

;---------------------
;事件类型
;用于在设置中进行配置
;---------------------
@EVENT_DAILY_ARTIFICIAL_PORTAL_VAGINA_GENRE()
    RETURN デイリー_ジャンル_エロ


;---------------------
;名称
;返回空或不存在时使用注册名称
;---------------------
@EVENT_DAILY_ARTIFICIAL_PORTAL_VAGINA_NAME()
	CALL MRU_get_phase_name("MRU_6",MRU_6_PHASE)
	SIF RESULTS != ""
		RETURN
    RESULTS = 传送套


;---------------------
;本体
;---------------------
@EVENT_DAILY_ARTIFICIAL_PORTAL_VAGINA()
	IF MRU_6_PHASE == ""
		CALL MRU_event_set_next_phase("MRU_6",MRU_6_PHASE,"初见")
	ENDIF
	CALL MRU_event_procedure("MRU_6",MRU_6_PHASE)
	RETURN 1

@MRU_6_终止_check
    RETURN -1

@MRU_6__rate
    RETURN 50

@MRU_6__check
    #DIM DYNAMIC 国家总数
    #DIM DYNAMIC 低风评国家数
    FOR LOCAL,1,MAX_COUNTRY
        SIF !IS_COUNTRY(LOCAL) || IS_SP_COUNTRY(LOCAL)
            CONTINUE
        SIF LOCAL == CFLAG:MASTER:所属
            CONTINUE
        国家总数++
		LOCAL:1 = GET_COUNTRY_BOSS(LOCAL)
        SIF REL_LIKE:(LOCAL:1 ):(MASTER) + 300 < REL_HATE:(LOCAL:1):(MASTER) || REL_HATE:(LOCAL:1):(MASTER) > 300
            低风评国家数++
    NEXT
    IF 低风评国家数 > 国家总数 / 2 && 国家总数 > 2
        RETURN 1
    ELSE
        RETURN -1
    ENDIF

@MRU_6_初见_name
    RESULTS = 这是什么？

@MRU_6_初见_text
    MRU_6_TARGET = MRU_6_GET_TARGET()
    HTML_PRINT get_text_html(@"%ANAME(MASTER)%正在为自己极差的风评烦恼着")
    CALL html_wait
    HTML_PRINT get_text_html(@"真是的，明明没有做什么坏事情")
    HTML_PRINT get_text_html(@"却被幻想乡少女们无底线地讨厌着")
    CALL html_wait
    HTML_PRINT get_text_html(@"自己尽职尽责地在前线抗击着莫名其妙的入侵者")
    HTML_PRINT get_text_html(@"她们却不由分说的在背后用符卡拉自己的屁股")
    HTML_PRINT get_text_html(@"这样的日子真是难过啊……")
    CALL html_wait
    HTML_PRINT get_text_html(@"嗯……？这是什么？")
    CALL html_wait
    HTML_PRINT get_text_html(@"%ANAME(MASTER)%突然被一截东西绊了一下")
    CALL html_wait
    HTML_PRINT get_text_html(@"到底是什么啊……一截粉色的柱肉")
    HTML_PRINT get_text_html(@"一段还开着女阴般的孔洞")
    CALL html_wait
    HTML_PRINT get_text_html(@"莫非这就是传说中的『肉灵芝』吗")
    HTML_PRINT get_text_html(@"还微微冒着热气，不会被人刚刚用过吧？")
    CALL html_wait
    CALL get_text_html_b("不管了，捅一下","","")
	CALL get_text_html_b("还是别动了","","")
	CALL get_html_button_input
    IF RESULT == 0
        HTML_PRINT get_text_html(@"正在怒头上的%ANAME(MASTER)%性欲也十分旺盛")
        HTML_PRINT get_text_html(@"管他呢，自己都活成这样了还在意那么多事情干什么")
        CALL html_wait
        HTML_PRINT get_text_html(@"这样想着的%ANAME(MASTER)%躲在小巷中开始享用这个飞机杯")
        HTML_PRINT get_text_html(@"冲刺！")
        CALL html_wait
        HTML_PRINT get_text_html(@"哇！！！这感觉……完全不像是道具呢")
        CALL html_wait
        IF TALENT:MRU_6_TARGET:処女 == 1
            HTML_PRINT get_text_html(@"似乎是捅开了一层薄薄的膜，好像还有鲜血流了出来")
            CALL MRU_6_增加线索(@"对方曾是处女，不过被自己卑鄙地夺走了")
            CALL html_wait
        ELSE
            HTML_PRINT get_text_html(@"感觉像是非常老练地腔道呢")
            CALL MRU_6_增加线索(@"第一次使用的时候对方就不是处女了")
            CALL html_wait
        ENDIF
        HTML_PRINT get_text_html(@"刺入的一瞬间就被死死的夹住了")
        CALL html_wait
        HTML_PRINT get_text_html(@"腔内的褶皱还在不断地蠕动着")
        CALL html_wait
        HTML_PRINT get_text_html(@"每次顶着最深处都会可爱地痉挛着")
        CALL html_wait
        HTML_PRINT get_text_html(@"着感觉……完全不像是器物")
        CALL html_wait
        HTML_PRINT get_text_html(@"如果是这样的话……自己岂不是在强奸着某处的姑娘？")
        CALL html_wait
        {
            HTML_PRINT get_text_html(@"她肯定被吓坏了吧被不知从何处出现的肉棒夺去了第一次\n刺入了最深处不断摩擦着腔壁给予着快感一次又一次地强迫高潮着或许还在很多人面前吧\n在朋友在爱人在下属在敌人在陌生人面前就这样无助地一次又一次高潮着\n然后无助地瘫倒在地上哭泣着享受着余韵但是再这么哀求最终都只能任凭其他人摆布最终所有人都会认为她是那样淫荡的人\n")
        }
        CALL html_wait
        CALL EXPEND_LATER()
        HTML_PRINT get_text_html(@"缴械了……最近是压力太大了吧")
        HTML_PRINT get_text_html(@"居然会有这种妄想")
        CALL html_wait
        HTML_PRINT get_text_html(@"但是万一是真的呢？")
        HTML_PRINT get_text_html(@"看来只能找到这个东西的『所有者』才能确定吧")
        CALL html_wait
        HTML_PRINT get_text_html(@"%ANAME(MASTER)%先把这东西收起来了")
        CALL html_wait

    ELSE
        HTML_PRINT get_text_html(@"不管怎么样，还是得注意个人卫生呢")
        HTML_PRINT get_text_html(@"把这东西丢到一旁，%ANAME(MASTER)%踏上了归途")
        CALL html_wait
    ENDIF

@MRU_6_GET_TARGET
    #FUNCTION
    #DIM 候补,1000
    #DIM DYNAMIC 候补数
    FOR LOCAL,1,MAX_COUNTRY
        SIF !IS_COUNTRY(LOCAL) || IS_SP_COUNTRY(LOCAL)
            CONTINUE
        SIF LOCAL == CFLAG:MASTER:所属
            CONTINUE
		LOCAL:1 = GET_COUNTRY_BOSS(LOCAL)
        SIF REL_LIKE:(LOCAL:1):(MASTER) + 300 < REL_HATE:(LOCAL:1):(MASTER) || REL_HATE:(LOCAL:1):(MASTER) > 300
            候补:(候补数++) = LOCAL:1
    NEXT
    RETURNF 候补:(RAND:候补数)
@MRU_6_寻找线索()

@MRU_6_增加线索(新线索,输出 = 0)
    #DIMS 新线索
    #DIM 输出
    MRU_6_线索:(MRU_6_线索数++) '= @"%新线索%"
    IF 输出
        HTML_PRINT get_text_html(@"%新线索%")
    ENDIF

@MRU_6_展示线索
    FOR LOCAL,0,MRU_6_线索数
        HTML_PRINT get_text_html_n(@"%MRU_6_线索:MRU_6_线索数%")
    NEXT
