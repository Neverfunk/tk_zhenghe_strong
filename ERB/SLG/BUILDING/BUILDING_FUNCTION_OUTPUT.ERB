@PRINT_BUILDING_LIST(CITY_ID)
    #DIM CITY_ID
    #DIM BUILDING_ID
    #DIM COUNTRY_ID
    #DIMS SHOW_ALL_BUILDING_CONFIG_NAME
    #DIM BUILD_STATUS = 0
    #DIM BUILDING_TYPE_TMP = 0
    #DIMS PRINT_STR
    COUNTRY_ID = CFLAG:MASTER:所属
    FOR BUILDING_TYPE_TMP,建造物_类型_经济类,建造物_类型_特殊类+1
        CALL PRINT_BUILDING_TYPE_BUTTON(BUILDING_TYPE_TMP)
        SIF BUILDING_PRINT_LIST_CONFIG:(BUILDING_TYPE_TMP) == 0
            CONTINUE
        FOR BUILDING_ID, 1, BUILDING_NUM
            IF BUILDING_TYPE:BUILDING_ID == BUILDING_TYPE_TMP
                CALL PRINT_BUILDING_BUTTON_TYPE(CITY_ID,BUILDING_ID)
            ENDIF
        NEXT
    NEXT

    IF BUILDING_PRINT_LIST_CONFIG:0 == 0
        PRINTBUTTON "[当前状态：显示全部建筑]" , -1
    ELSEIF BUILDING_PRINT_LIST_CONFIG:0 == 1
        PRINTBUTTON "[当前状态：仅显示可建造建筑]" , -1
    ELSEIF BUILDING_PRINT_LIST_CONFIG:0 == 2
        PRINTBUTTON "[当前状态：显示当前势力可能建造的建筑]" , -1
    ENDIF
    PRINTL
    PRINTBUTTON "[取消]" , 0
    PRINTL

@PRINT_BUILDING_BUTTON_TYPE(CITY_ID,BUILDING_ID)
    #DIM CITY_ID
    #DIM BUILDING_ID
    #DIM BUILD_STATUS
    BUILD_STATUS =  CAN_BUILD_BUILDING(CITY_ID,BUILDING_ID)
    IF BUILDING_LEVEL:BUILDING_ID == 建造物_等级_不可建造
        RETURN
    ENDIF
    SELECTCASE BUILDING_PRINT_LIST_CONFIG:0
        CASE 0
            CALL PRINT_BUILDING_BUTTON(BUILDING_ID,BUILD_STATUS)
        CASE 1
            SIF BUILD_STATUS > 0
                CALL PRINT_BUILDING_BUTTON(BUILDING_ID,BUILD_STATUS)
        CASE 2
            SIF BUILD_STATUS != -3
                CALL PRINT_BUILDING_BUTTON(BUILDING_ID,BUILD_STATUS)
    ENDSELECT

@PRINT_BUILDING_BUTTON(BUILDING_ID,BUILD_STATUS)
    #DIM BUILDING_ID
    #DIM BUILD_STATUS
    IF BUILD_STATUS > 0
        SETCOLOR カラー_パ緑
        PRINTBUTTON @"%"    [" + GET_BUILDING_NAME(BUILDING_ID) + "]:", 11, LEFT%", BUILDING_ID
        RESETCOLOR
        CALL PRINT_SPASER_EXP(BUILDING_ID)
        CALL PRINT_INFO_FLAG(BUILDING_ID)
        PRINTFORML %GET_BUILDING_EXPLANATION(BUILDING_ID)%
    ELSE
        SETCOLOR カラー_選択不可
        PRINTBUTTON @"%"    [" + GET_BUILDING_NAME(BUILDING_ID) + "]:", 11, LEFT%", BUILDING_ID
        CALL PRINT_SPASER_EXP(BUILDING_ID)
        CALL PRINT_INFO_FLAG(BUILDING_ID)
        PRINTFORM %GET_BUILDING_EXPLANATION(BUILDING_ID)%
        SETCOLOR カラー_赤
        CALL PRINT_SPASER_WARNING(BUILDING_ID)
        PRINTFORML %GET_CANT_BUILD_EXPLANATION(BUILD_STATUS,BUILDING_ID)%
        RESETCOLOR
    ENDIF

@PRINT_BUILDING_TYPE_BUTTON(BUILDING_TYPE_TMP)
    #DIM BUILDING_TYPE_TMP
    IF BUILDING_PRINT_LIST_CONFIG:(BUILDING_TYPE_TMP) == 1

        PRINTBUTTON @"%"[" + GET_BUILDING_TYPE_NAME(BUILDING_TYPE_TMP) + ":显示]", 11, LEFT%", (BUILDING_TYPE)*1000

    ELSE
        SETCOLOR カラー_明灰色
        PRINTBUTTON @"%"[" + GET_BUILDING_TYPE_NAME(BUILDING_TYPE_TMP) + ":隐藏]", 11, LEFT%", (BUILDING_TYPE)*1000
        RESETCOLOR
    ENDIF
    PRINTFORML
@PRINT_INFO_FLAG(BUILDING_ID)
    #DIM BUILDING_ID
    IF BUILDING_LIMIT_NUM:BUILDING_ID == 建造物_数量限制_无
        SETCOLOR カラー_選択不可
    ELSE
        IF TMP_BUILDING_EXIST_FLAG:(CFLAG:MASTER:所属):BUILDING_ID > 0
            SETCOLOR カラー_警告
        ELSE
            SETCOLOR カラー_注意
        ENDIF
    ENDIF
    PRINTFORM 唯
    PRINTFORM %TOSTR_SPACE(1)%
    RESETCOLOR
    IF BUILDING_LEVEL:BUILDING_ID == 建造物_等级_一级建筑
        SETCOLOR カラー_青
        PRINTFORM 一
    ELSEIF BUILDING_LEVEL:BUILDING_ID == 建造物_等级_二级建筑
        SETCOLOR カラー_パ青
        PRINTFORM 二
    ELSEIF BUILDING_LEVEL:BUILDING_ID == 建造物_等级_三级建筑
        SETCOLOR カラー_パ紫
        PRINTFORM 三
    ENDIF
    PRINTFORM %TOSTR_SPACE(1)%
    IF BUILDING_HAVE_SKILL:BUILDING_ID
        SETCOLOR カラー_緑
    ELSE
        SETCOLOR カラー_選択不可
    ENDIF
    PRINTFORM 技
    PRINTFORM %TOSTR_SPACE(1)%
    RESETCOLOR

@PRINT_SPASER_EXP(BUILDING_ID)
    #DIM BUILDING_ID
    #DIM len = 0
    len = 17 -STRLENS(GET_BUILDING_NAME(BUILDING_ID))
    PRINTFORM %TOSTR_SPACE(len)%

@PRINT_SPASER_WARNING(BUILDING_ID)
    #DIM BUILDING_ID
    #DIM len = 0
    len = 55 - STRLENS(GET_BUILDING_EXPLANATION(BUILDING_ID))
    PRINTFORM %TOSTR_SPACE(len)%

@PRINT_BUINDLING_LIST_TOPLINE(CITY_ID)
    #DIM CITY_ID
    #DIM STATUS,4,4
    VARSET STATUS
    FOR LOCAL:0,1,4
        SIF MONEY:(CFLAG:MASTER:所属) < GET_BUILDING_COST(CFLAG:MASTER:所属,LOCAL:0)
            STATUS:(LOCAL:0):0 = 1
        SIF (CITY_ECONOMY:CITY_ID /100) < GET_CITY_ECONOMY_REQ(CFLAG:MASTER:所属,LOCAL:0)
            STATUS:(LOCAL:0):1 = 1
        IF LOCAL:0 == 2
            SIF TECHNOLOGY_STATUS:(CFLAG:MASTER:所属):TECHNOLOGY_BUILDINGS < 2
                STATUS:(LOCAL:0):2 = 1
        ELSEIF LOCAL:0 == 3
            SIF TECHNOLOGY_STATUS:(CFLAG:MASTER:所属):TECHNOLOGY_BUILDINGS < 5
                STATUS:(LOCAL:0):2 = 1
        ENDIF
        STATUS:(LOCAL:0):3 = STATUS:(LOCAL:0):2 || STATUS:(LOCAL:0):1 || STATUS:(LOCAL:0):0
    NEXT

    PRINTFORM 建筑等级
    PRINTFORM %TOSTR_SPACE(20)%
    PRINTFORM |
    CALL PRINT_TOPLINE_SELECTCOLOR(STATUS:1:3)
    PRINTFORM 一级建筑
    PRINTFORM %TOSTR_SPACE(20)%
    RESETCOLOR
    PRINTFORM |
    CALL PRINT_TOPLINE_SELECTCOLOR(STATUS:2:3)
    PRINTFORM 二级建筑
    PRINTFORM %TOSTR_SPACE(20)%
    RESETCOLOR
    PRINTFORM |
    CALL PRINT_TOPLINE_SELECTCOLOR(STATUS:3:3)
    PRINTFORML 三级建筑
    RESETCOLOR
    CALL SINGLE_DRAWLINE
    PRINTFORM 国库消耗
    PRINTFORM %TOSTR_SPACE(20)%
    RESETCOLOR
    PRINTFORM |
    CALL PRINT_TOPLINE_SELECTCOLOR(STATUS:1:0)
    PRINTFORM {GET_BUILDING_COST(CFLAG:MASTER:所属,建造物_等级_一级建筑)}
    PRINTFORM %TOSTR_SPACE(24)%
    RESETCOLOR
    PRINTFORM |
    CALL PRINT_TOPLINE_SELECTCOLOR(STATUS:2:0)
    PRINTFORM {GET_BUILDING_COST(CFLAG:MASTER:所属,建造物_等级_二级建筑)}
    PRINTFORM %TOSTR_SPACE(24)%
    RESETCOLOR
    PRINTFORM |
    CALL PRINT_TOPLINE_SELECTCOLOR(STATUS:3:0)
    PRINTFORML {GET_BUILDING_COST(CFLAG:MASTER:所属,建造物_等级_三级建筑)}
    RESETCOLOR
    CALL SINGLE_DRAWLINE
    PRINTFORM 经济需求
    PRINTFORM %TOSTR_SPACE(20)%
    RESETCOLOR
    PRINTFORM |
    CALL PRINT_TOPLINE_SELECTCOLOR(STATUS:1:1)
    PRINTFORM 无
    PRINTFORM %TOSTR_SPACE(26)%
    RESETCOLOR
    PRINTFORM |
    CALL PRINT_TOPLINE_SELECTCOLOR(STATUS:2:1)
    PRINTFORM {GET_CITY_ECONOMY_REQ(CFLAG:MASTER:所属,建造物_等级_二级建筑)}
    PRINTFORM %TOSTR_SPACE(25)%
    RESETCOLOR
    PRINTFORM |
    CALL PRINT_TOPLINE_SELECTCOLOR(STATUS:3:1)
    PRINTFORML {GET_CITY_ECONOMY_REQ(CFLAG:MASTER:所属,建造物_等级_三级建筑)}
    RESETCOLOR
    CALL SINGLE_DRAWLINE
    PRINTFORM 科技需求
    PRINTFORM %TOSTR_SPACE(20)%
    RESETCOLOR
    PRINTFORM |
    CALL PRINT_TOPLINE_SELECTCOLOR(STATUS:1:2)
    PRINTFORM 无
    PRINTFORM %TOSTR_SPACE(26)%
    RESETCOLOR
    PRINTFORM |
    CALL PRINT_TOPLINE_SELECTCOLOR(STATUS:2:2)
    PRINTFORM 建筑科技等级二
    PRINTFORM %TOSTR_SPACE(14)%
    RESETCOLOR
    PRINTFORM |
    CALL PRINT_TOPLINE_SELECTCOLOR(STATUS:3:2)
    PRINTFORML 建筑科技等级五
    RESETCOLOR
@PRINT_TOPLINE_SELECTCOLOR(ARG:0)
    RESETCOLOR
    IF ARG:0
        SETCOLOR カラー_警告
    ELSE
        SETCOLOR カラー_緑
    ENDIF
@PRINT_SHORT_SLOT_STATUS(CITY_ID)
    #DIM CITY_ID
    IF BUILDING_SLOT_AVAIL_CHECK(CITY_OWNER:CITY_ID,0)
        IF CITY_BUILDING:CITY_ID:0 > 0
            SETCOLOR カラー_緑
            PRINTBUTTON "槽1", 3000 + CITY_ID
        ELSE
            SETCOLOR カラー_白
            PRINTBUTTON "槽1", 3000 + CITY_ID
        ENDIF
    ELSE
        SETCOLOR カラー_選択不可
        PRINTFORMS "槽1"
    ENDIF
    PRINTFORM %TOSTR_SPACE(1)%
    RESETCOLOR
    IF BUILDING_SLOT_AVAIL_CHECK(CITY_OWNER:CITY_ID,1)
        IF CITY_BUILDING:CITY_ID:1 > 0
            SETCOLOR カラー_緑
            PRINTBUTTON "槽2", 3500 + CITY_ID
        ELSE
            SETCOLOR カラー_白
            PRINTBUTTON "槽2", 3500 + CITY_ID
        ENDIF
    ELSE
        SETCOLOR カラー_選択不可
        PRINTFORMS "槽2"
    ENDIF
    PRINTFORM %TOSTR_SPACE(1)%
    RESETCOLOR
    IF BUILDING_SLOT_AVAIL_CHECK(CITY_OWNER:CITY_ID,2)
        IF CITY_BUILDING:CITY_ID:2 > 0
            SETCOLOR カラー_緑
            PRINTBUTTON "槽3", 4000 + CITY_ID
        ELSE
            SETCOLOR カラー_白
            PRINTBUTTON "槽3", 4000 + CITY_ID
        ENDIF
    ELSE
        SETCOLOR カラー_選択不可
        PRINTFORMS "槽3"
    ENDIF
    PRINTFORM %TOSTR_SPACE(1)%
    RESETCOLOR

@PRINT_BUILDING_TEXT_TITLE(COLOR = カラー_緑,TITLE = "建筑报告:")
    #DIM COLOR
    #DIMS TITLE
    SETCOLOR COLOR
    PRINTFORM %TITLE%
    RESETCOLOR

@PRINT_BUILDING_TEXT_TITLE_F(COLOR = カラー_緑,TITLE = "建筑报告:")
    #FUNCTION
    #DIM COLOR
    #DIMS TITLE
    SETCOLOR COLOR
    PRINTFORM %TITLE%
    RESETCOLOR
    RETURNF 1
