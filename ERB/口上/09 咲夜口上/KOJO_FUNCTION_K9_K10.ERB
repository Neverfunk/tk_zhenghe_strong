;─────────────────────────────────────── 
;●口上用の選択肢表示用関数
;　選択肢0～5に選択肢を入力。0番～5番まで1～6個の選択肢を作れる
;　結果は呼び出し後に分岐させて処理するためRESULTに返す
;　選択肢のない数字を入力したら選択肢に戻される
;─────────────────────────────────────── 
@KOJO_ASK(選択肢:0, 選択肢:1, 選択肢:2, 選択肢:3, 選択肢:4, 選択肢:5)
#DIMS 選択肢, 6
#DIM SAVE_REDRAW
#DIM SAVE_COLOR
#DIM SAVE_LINE

;REDRAW状態を保存
CURRENTREDRAW
SAVE_REDRAW = RESULT
REDRAW 0

;現在の文字色を保存
GETCOLOR
SAVE_COLOR = RESULT
RESETCOLOR

;質問文の下に空行
PRINTL 

;現在行を保存（質問文の下の空行は残す）
SAVE_LINE = LINECOUNT

;選択肢表示（文字列が空でなければ）
FOR SAVE_REDRAW, 0, 6
	IF 選択肢:(SAVE_REDRAW) != ""
		PRINTBUTTON @"{SAVE_REDRAW, 2, RIGHT}[%選択肢:(SAVE_REDRAW)%]", SAVE_REDRAW
		PRINTL 
	ENDIF
NEXT

$INPUT_LOOP
;初期値0
INPUT 0

;指定外
IF RESULT < 0 || RESULT > 5
	;入力値の表示をクリア
	CLEARLINE 1
	GOTO INPUT_LOOP
;指定内
ELSE
	;選択肢と入力値の表示をクリアして選択結果のみ表示する
	;入力クリック直後の入力値表示代わりなのでWAITしない
	CLEARLINE LINECOUNT - SAVE_LINE
	SETCOLOR カラー_選択不可
	PRINTFORML ➡%選択肢:(RESULT)%
ENDIF

PRINTL 

;REDRAW状態と文字色を戻す
REDRAW SAVE_REDRAW
SETCOLOR SAVE_COLOR

RETURN RESULT


;─────────────────────────────────────── 
;●小書き文字をつける
;　使い方：PRINTFORML 「%ANAME(MASTER)%%SMALLSCRIPT(CSTR:MASTER:6)%」
;　結果　：「あなたぁ」（主人公があなたのとき）
;　覚書　：フリガナを保存した変数を参照して最後の一文字に合うように「ぁぃぅぇぉ」をつける
;　甘え声にしたいときに使う目的
;　現在は主人公のCSTR:6（名フリガナ）が存在しない可能性が高い
;　東方キャラならCSTR:6が存在する可能性が高い
;　呼称や淫語を入力する追加イベントの結果として使っている
;　STRFINDUの指定に正規表現使えたら短く書けそうだけどうまくいかなかった
;　ベタ書きのほうが処理は早そうな気もするからいいかな？
;─────────────────────────────────────── 
@SMALLSCRIPT(ARGS:0)
#FUNCTIONS
#DIM STR_INDEX
#DIMS STR_SMALL

STR_INDEX = 0
STR_SMALL '= ""

STRLENSU ARGS:0
STR_INDEX = RESULT:0 - 1

STRFINDU ARGS:0, "あ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "か", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "さ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "た", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "な", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "は", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ま", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "や", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ら", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "わ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "が", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ざ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "だ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ば", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぱ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぁ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ア", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "カ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "サ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "タ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ナ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ハ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "マ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ヤ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ラ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ワ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ガ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ザ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ダ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "バ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "パ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ァ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "い", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "き", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "し", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ち", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "に", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ひ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "み", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "り", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぎ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "じ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぢ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "び", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぴ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぃ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "イ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "キ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "シ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "チ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ニ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ヒ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ミ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "リ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ギ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ジ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ヂ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ビ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ピ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ィ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "う", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "く", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "す", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "つ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぬ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ふ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "む", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ゆ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "る", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぐ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ず", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "づ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぶ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぷ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ん", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぅ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ウ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ク", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ス", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ツ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ヌ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "フ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ム", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ユ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ル", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "グ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ズ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ヅ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ブ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "プ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ン", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ゥ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "え", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "け", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "せ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "て", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ね", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "へ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "め", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "れ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "げ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぜ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "で", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "べ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぺ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぇ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "エ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ケ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "セ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "テ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ネ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ヘ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "メ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "レ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ゲ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ゼ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "デ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ベ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ペ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ェ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "お", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "こ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "そ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "と", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "の", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ほ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "も", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "よ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ろ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "を", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ご", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぞ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ど", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぼ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぽ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ぉ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "オ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "コ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ソ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ト", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ノ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ホ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "モ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ヨ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ロ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ヲ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ゴ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ゾ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ド", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ボ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ポ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

STRFINDU ARGS:0, "ォ", STR_INDEX
SIF RESULT:0 >= 1
	STR_SMALL '= "~"
SIF STR_SMALL != ""
	RETURNF STR_SMALL

RETURNF STR_SMALL


;─────────────────────────────────────── 
;●台詞上の髪色
; %KOJO_HAIR_NAME(対象)%ね
;─────────────────────────────────────── 
@KOJO_HAIR_NAME(ARG:0)
#FUNCTIONS
#DIMS 表示テキスト
表示テキスト '= ""

;スキンヘッド
IF TALENT:(ARG:0):頭髮長度 == 1
	表示テキスト '= "剃光了的头发"
	RETURNF LOCALS:0
ENDIF

;髪の色指定あり
IF TALENT:(ARG:0):302 != 0
	;銀髪
	IF RGB_TO_S(TALENT:(ARG:0):302) < 10 && RGB_TO_V(TALENT:(ARG:0):302) >= 80
		IF TALENT:(ARG:0):頭髮長度 >= 5
			表示テキスト '= "雪白的长发"
		ELSEIF TALENT:(ARG:0):頭髮長度
			表示テキスト '= "蓬松的白发"
		ENDIF
	ELSEIF RGB_TO_S(TALENT:(ARG:0):302) < 10 && RGB_TO_V(TALENT:(ARG:0):302) >= 50
		IF TALENT:(ARG:0):頭髮長度 >= 5
			表示テキスト '= "修剪整齐的的美丽长发"
		ELSEIF TALENT:(ARG:0):頭髮長度
			表示テキスト '= "美丽的银发"
		ENDIF
	;どちらでもない
	ELSEIF RGB_TO_S(TALENT:(ARG:0):302) < 30 && RGB_TO_V(TALENT:(ARG:0):302) < 30
		IF TALENT:(ARG:0):頭髮長度 >= 5
			表示テキスト '= "乌黑笔直的美丽长发"
		ELSEIF TALENT:(ARG:0):頭髮長度
			表示テキスト '= "美丽的黑发"
		ENDIF
	;明度高め
	ELSEIF RGB_TO_S(TALENT:(ARG:0):302) < 35 && RGB_TO_V(TALENT:(ARG:0):302) >= 75
		;赤
		IF (RGB_TO_H(TALENT:(ARG:0):302) >= 330 && RGB_TO_H(TALENT:(ARG:0):302) <= 360) || (RGB_TO_H(TALENT:(ARG:0):302) >= 0 && RGB_TO_H(TALENT:(ARG:0):302) < 30)
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "秀色可餐的桃色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "秀色可餐的桃发"
			ENDIF
		;黄
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 30 && RGB_TO_H(TALENT:(ARG:0):302) < 90
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "软乎乎的金色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "软乎乎的金髪"
			ENDIF
		;緑
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 90 && RGB_TO_H(TALENT:(ARG:0):302) < 150
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "软乎乎的绿色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "软乎乎的美丽绿发"
			ENDIF
		;シアン
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 150 && RGB_TO_H(TALENT:(ARG:0):302) < 210
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "软乎乎的水色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "软乎乎的水色秀发"
			ENDIF
		;青
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 210 && RGB_TO_H(TALENT:(ARG:0):302) < 270
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "软乎乎的青色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "软乎乎的美丽青发"
			ENDIF
		;紫
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 270 && RGB_TO_H(TALENT:(ARG:0):302) < 330
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "软乎乎的紫色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "软乎乎的美丽紫发"
			ENDIF
		ENDIF
	;色が派手で暗め
	ELSEIF RGB_TO_S(TALENT:(ARG:0):302) > 70 && RGB_TO_V(TALENT:(ARG:0):302) < 50
		;赤
		IF (RGB_TO_H(TALENT:(ARG:0):302) >= 330 && RGB_TO_H(TALENT:(ARG:0):302) <= 360) || (RGB_TO_H(TALENT:(ARG:0):302) >= 0 && RGB_TO_H(TALENT:(ARG:0):302) < 30)
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "华丽的红色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "漂亮的红色秀发"
			ENDIF
		;黄
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 30 && RGB_TO_H(TALENT:(ARG:0):302) < 90
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "美丽的茶色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "美色的茶色秀发"
			ENDIF
		;緑
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 90 && RGB_TO_H(TALENT:(ARG:0):302) < 150
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "美丽的绿色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "美丽的绿发"
			ENDIF
		;シアン
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 150 && RGB_TO_H(TALENT:(ARG:0):302) < 210
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "美丽的水色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "美丽的水色秀发"
			ENDIF
		;青
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 210 && RGB_TO_H(TALENT:(ARG:0):302) < 270
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "美丽的青色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "美丽的青发"
			ENDIF
		;紫
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 270 && RGB_TO_H(TALENT:(ARG:0):302) < 330
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "美丽的紫色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "美丽的紫发"
			ENDIF
		ENDIF
	;色が認識できる程度で暗め
	ELSEIF RGB_TO_S(TALENT:(ARG:0):302) > 30 && RGB_TO_V(TALENT:(ARG:0):302) < 30
		;赤
		IF (RGB_TO_H(TALENT:(ARG:0):302) >= 330 && RGB_TO_H(TALENT:(ARG:0):302) <= 360) || (RGB_TO_H(TALENT:(ARG:0):302) >= 0 && RGB_TO_H(TALENT:(ARG:0):302) < 30)
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "华丽的红色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "漂亮的红发"
			ENDIF
		;黄
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 30 && RGB_TO_H(TALENT:(ARG:0):302) < 90
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "美丽的茶色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "美丽的茶发"
			ENDIF
		;緑
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 90 && RGB_TO_H(TALENT:(ARG:0):302) < 150
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "美丽的绿色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "美丽的绿发"
			ENDIF
		;シアン
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 150 && RGB_TO_H(TALENT:(ARG:0):302) < 210
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "美丽的水色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "美丽的水色秀发"
			ENDIF
		;青
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 210 && RGB_TO_H(TALENT:(ARG:0):302) < 270
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "美丽的青色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "美丽的青发"
			ENDIF
		;紫
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 270 && RGB_TO_H(TALENT:(ARG:0):302) < 330
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "美丽的紫色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "美丽的紫发"
			ENDIF
		ENDIF
	;どれにもあてはまらない
	ELSE
		;赤
		IF (RGB_TO_H(TALENT:(ARG:0):302) >= 330 && RGB_TO_H(TALENT:(ARG:0):302) <= 360) || (RGB_TO_H(TALENT:(ARG:0):302) >= 0 && RGB_TO_H(TALENT:(ARG:0):302) < 30)
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "华丽的红色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "华丽的红发"
			ENDIF
		;黄
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 30 && RGB_TO_H(TALENT:(ARG:0):302) < 90
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "华丽的金色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "华丽的金发"
			ENDIF
		;緑
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 90 && RGB_TO_H(TALENT:(ARG:0):302) < 150
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "华丽的绿色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "华丽的绿发"
			ENDIF
		;シアン
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 150 && RGB_TO_H(TALENT:(ARG:0):302) < 210
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "鲜艳美丽的水色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "鲜艳美丽的水色秀发"
			ENDIF
		;青
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 210 && RGB_TO_H(TALENT:(ARG:0):302) < 270
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "鲜艳的青色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "鲜艳的青发"
			ENDIF
		;紫
		ELSEIF RGB_TO_H(TALENT:(ARG:0):302) >= 270 && RGB_TO_H(TALENT:(ARG:0):302) < 330
			IF TALENT:(ARG:0):頭髮長度 >= 5
				表示テキスト '= "鲜艳的紫色长发"
			ELSEIF TALENT:(ARG:0):頭髮長度
				表示テキスト '= "鲜艳的紫发"
			ENDIF
		ENDIF
	ENDIF
;髪の色指定なし（誤魔化す）
ELSE
	IF TALENT:(ARG:0):頭髮長度 >= 5
		表示テキスト '= "美丽的长发"
	ELSE
		表示テキスト '= "美丽的秀发"
	ENDIF
ENDIF

RETURNF 表示テキスト


